{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Card,CardHeader,CardTitle,CardContent}from'./ui/card';import{Badge}from'./ui/badge';import{Button}from'./ui/button';import{GitBranch,Clock,User,Tag,ArrowRight,RotateCcw,FileText,TrendingUp,AlertCircle}from'lucide-react';/**\n * Workshop Version History Component - Displays evolution history and version tracking\n * Provides version comparison, rollback capabilities, and evolution timeline\n */import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const WorkshopVersionHistory=_ref=>{let{workshopName,selectedEvolution}=_ref;const[versionHistory,setVersionHistory]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[selectedVersions,setSelectedVersions]=useState([]);const[showComparison,setShowComparison]=useState(false);// Fetch version history for workshop\nuseEffect(()=>{if(!workshopName)return;const fetchVersionHistory=async()=>{try{setLoading(true);const response=await fetch(\"/api/evolution/workshops/\".concat(workshopName,\"/history\"));if(!response.ok){throw new Error(\"HTTP error! status: \".concat(response.status));}const data=await response.json();setVersionHistory(data.evolutions||[]);setError(null);}catch(err){console.error('Error fetching version history:',err);setError('Failed to load version history');}finally{setLoading(false);}};fetchVersionHistory();},[workshopName]);// Handle version selection for comparison\nconst handleVersionSelect=evolution=>{if(selectedVersions.includes(evolution.evolution_id)){setSelectedVersions(selectedVersions.filter(id=>id!==evolution.evolution_id));}else if(selectedVersions.length<2){setSelectedVersions([...selectedVersions,evolution.evolution_id]);}};// Get evolution type badge color\nconst getEvolutionTypeBadge=type=>{const typeMap={'research_update':'bg-blue-100 text-blue-800','technology_refresh':'bg-purple-100 text-purple-800','feedback_integration':'bg-green-100 text-green-800','content_expansion':'bg-orange-100 text-orange-800','content_update':'bg-gray-100 text-gray-800','bug_fix':'bg-red-100 text-red-800','security_update':'bg-red-100 text-red-800','performance_optimization':'bg-yellow-100 text-yellow-800'};return typeMap[type]||'bg-gray-100 text-gray-800';};// Format evolution type for display\nconst formatEvolutionType=type=>{return type.replace(/_/g,' ').replace(/\\b\\w/g,l=>l.toUpperCase());};// Get status icon and color\nconst getStatusIcon=status=>{const statusMap={'completed':{icon:TrendingUp,color:'text-green-600'},'deployed':{icon:TrendingUp,color:'text-green-600'},'failed':{icon:AlertCircle,color:'text-red-600'},'rolled_back':{icon:RotateCcw,color:'text-orange-600'},'implementing':{icon:Clock,color:'text-blue-600'},'validating':{icon:Clock,color:'text-yellow-600'}};return statusMap[status]||{icon:FileText,color:'text-gray-600'};};// Calculate duration\nconst calculateDuration=(createdAt,completedAt)=>{if(!completedAt)return'In progress';const start=new Date(createdAt);const end=new Date(completedAt);const diffMs=end-start;const diffHours=Math.floor(diffMs/(1000*60*60));const diffMinutes=Math.floor(diffMs%(1000*60*60)/(1000*60));if(diffHours>0){return\"\".concat(diffHours,\"h \").concat(diffMinutes,\"m\");}return\"\".concat(diffMinutes,\"m\");};if(loading){return/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(CardHeader,{children:/*#__PURE__*/_jsx(CardTitle,{children:\"Version History\"})}),/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center py-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-2\",children:\"Loading version history...\"})]})})]});}if(error){return/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(CardHeader,{children:/*#__PURE__*/_jsx(CardTitle,{children:\"Version History\"})}),/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8\",children:[/*#__PURE__*/_jsx(AlertCircle,{className:\"h-12 w-12 text-red-500 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-red-600 mb-4\",children:error}),/*#__PURE__*/_jsx(Button,{onClick:()=>window.location.reload(),children:\"Retry\"})]})})]});}return/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(CardHeader,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(CardTitle,{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(GitBranch,{className:\"h-5 w-5\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Version History\"}),workshopName&&/*#__PURE__*/_jsx(Badge,{variant:\"outline\",children:workshopName})]}),selectedVersions.length===2&&/*#__PURE__*/_jsxs(Button,{onClick:()=>setShowComparison(!showComparison),variant:\"outline\",size:\"sm\",children:[showComparison?'Hide':'Show',\" Comparison\"]})]})}),/*#__PURE__*/_jsx(CardContent,{children:versionHistory.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8\",children:[/*#__PURE__*/_jsx(GitBranch,{className:\"h-12 w-12 text-gray-400 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:\"No version history available\"})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[showComparison&&selectedVersions.length===2&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-blue-900 mb-2\",children:\"Version Comparison\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-2 gap-4 text-sm\",children:selectedVersions.map((versionId,index)=>{const evolution=versionHistory.find(e=>e.evolution_id===versionId);return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded p-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-medium\",children:(evolution===null||evolution===void 0?void 0:evolution.target_version)||'Unknown'}),/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-600\",children:formatEvolutionType((evolution===null||evolution===void 0?void 0:evolution.evolution_type)||'')}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500 mt-1\",children:new Date(evolution===null||evolution===void 0?void 0:evolution.created_at).toLocaleDateString()})]},versionId);})}),/*#__PURE__*/_jsx(Button,{className:\"mt-3\",size:\"sm\",onClick:()=>setSelectedVersions([]),children:\"Clear Selection\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"relative\",children:versionHistory.map((evolution,index)=>{const statusInfo=getStatusIcon(evolution.status);const StatusIcon=statusInfo.icon;const isSelected=selectedVersions.includes(evolution.evolution_id);const isHighlighted=(selectedEvolution===null||selectedEvolution===void 0?void 0:selectedEvolution.evolution_id)===evolution.evolution_id;return/*#__PURE__*/_jsxs(\"div\",{className:\"relative flex items-start space-x-4 pb-6 \".concat(isHighlighted?'bg-blue-50 -mx-4 px-4 rounded-lg':''),children:[index<versionHistory.length-1&&/*#__PURE__*/_jsx(\"div\",{className:\"absolute left-6 top-8 w-0.5 h-full bg-gray-200\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0 w-12 h-12 rounded-full border-2 border-white shadow-sm flex items-center justify-center \".concat(evolution.status==='completed'||evolution.status==='deployed'?'bg-green-100':evolution.status==='failed'||evolution.status==='rolled_back'?'bg-red-100':'bg-gray-100'),children:/*#__PURE__*/_jsx(StatusIcon,{className:\"h-5 w-5 \".concat(statusInfo.color)})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 cursor-pointer \".concat(selectedVersions.length<2?'hover:bg-gray-50':'',\" rounded-lg p-3 transition-colors \").concat(isSelected?'bg-blue-50 border border-blue-200':''),onClick:()=>selectedVersions.length<2&&handleVersionSelect(evolution),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(Tag,{className:\"h-4 w-4 text-gray-500\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:evolution.target_version||evolution.current_version||'Unknown Version'}),/*#__PURE__*/_jsx(Badge,{className:getEvolutionTypeBadge(evolution.evolution_type),children:formatEvolutionType(evolution.evolution_type)})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-500\",children:calculateDuration(evolution.created_at,evolution.completed_at)})]}),evolution.evolution_description&&/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-700 mb-2 line-clamp-2\",children:evolution.evolution_description}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4 text-xs text-gray-500\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(User,{className:\"h-3 w-3 inline mr-1\"}),evolution.requested_by||'System']}),/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(Clock,{className:\"h-3 w-3 inline mr-1\"}),new Date(evolution.created_at).toLocaleDateString()]}),evolution.files_modified&&/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(FileText,{className:\"h-3 w-3 inline mr-1\"}),evolution.files_modified,\" files\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[evolution.rollback_available&&/*#__PURE__*/_jsxs(Badge,{variant:\"outline\",className:\"text-xs\",children:[/*#__PURE__*/_jsx(RotateCcw,{className:\"h-3 w-3 mr-1\"}),\"Rollback Available\"]}),/*#__PURE__*/_jsx(Badge,{variant:evolution.status==='completed'||evolution.status==='deployed'?'success':evolution.status==='failed'||evolution.status==='rolled_back'?'destructive':'secondary',children:evolution.status.replace(/_/g,' ')})]})]}),evolution.current_version&&evolution.target_version&&evolution.current_version!==evolution.target_version&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2 flex items-center text-xs text-gray-500\",children:[/*#__PURE__*/_jsx(\"span\",{children:evolution.current_version}),/*#__PURE__*/_jsx(ArrowRight,{className:\"h-3 w-3 mx-2\"}),/*#__PURE__*/_jsx(\"span\",{children:evolution.target_version})]})]})]},evolution.evolution_id);})}),selectedVersions.length<2&&versionHistory.length>1&&/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-4 text-sm text-gray-500 border-t\",children:\"Click on versions to select them for comparison (max 2)\"})]})})]});};export default WorkshopVersionHistory;","map":{"version":3,"names":["React","useState","useEffect","Card","CardHeader","CardTitle","CardContent","Badge","Button","GitBranch","Clock","User","Tag","ArrowRight","RotateCcw","FileText","TrendingUp","AlertCircle","jsx","_jsx","jsxs","_jsxs","WorkshopVersionHistory","_ref","workshopName","selectedEvolution","versionHistory","setVersionHistory","loading","setLoading","error","setError","selectedVersions","setSelectedVersions","showComparison","setShowComparison","fetchVersionHistory","response","fetch","concat","ok","Error","status","data","json","evolutions","err","console","handleVersionSelect","evolution","includes","evolution_id","filter","id","length","getEvolutionTypeBadge","type","typeMap","formatEvolutionType","replace","l","toUpperCase","getStatusIcon","statusMap","icon","color","calculateDuration","createdAt","completedAt","start","Date","end","diffMs","diffHours","Math","floor","diffMinutes","children","className","onClick","window","location","reload","variant","size","map","versionId","index","find","e","target_version","evolution_type","created_at","toLocaleDateString","statusInfo","StatusIcon","isSelected","isHighlighted","current_version","completed_at","evolution_description","requested_by","files_modified","rollback_available"],"sources":["/home/ec2-user/llama-stack-demos/workshop-monitoring-service/src/main/webui/src/components/WorkshopVersionHistory.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Card, CardHeader, CardTitle, CardContent } from './ui/card';\nimport { Badge } from './ui/badge';\nimport { Button } from './ui/button';\nimport { \n  GitBranch, \n  Clock, \n  User, \n  Tag, \n  ArrowRight, \n  RotateCcw, \n  FileText,\n  TrendingUp,\n  AlertCircle\n} from 'lucide-react';\n\n/**\n * Workshop Version History Component - Displays evolution history and version tracking\n * Provides version comparison, rollback capabilities, and evolution timeline\n */\nconst WorkshopVersionHistory = ({ workshopName, selectedEvolution }) => {\n  const [versionHistory, setVersionHistory] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [selectedVersions, setSelectedVersions] = useState([]);\n  const [showComparison, setShowComparison] = useState(false);\n\n  // Fetch version history for workshop\n  useEffect(() => {\n    if (!workshopName) return;\n\n    const fetchVersionHistory = async () => {\n      try {\n        setLoading(true);\n        const response = await fetch(`/api/evolution/workshops/${workshopName}/history`);\n        \n        if (!response.ok) {\n          throw new Error(`HTTP error! status: ${response.status}`);\n        }\n        \n        const data = await response.json();\n        setVersionHistory(data.evolutions || []);\n        setError(null);\n      } catch (err) {\n        console.error('Error fetching version history:', err);\n        setError('Failed to load version history');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchVersionHistory();\n  }, [workshopName]);\n\n  // Handle version selection for comparison\n  const handleVersionSelect = (evolution) => {\n    if (selectedVersions.includes(evolution.evolution_id)) {\n      setSelectedVersions(selectedVersions.filter(id => id !== evolution.evolution_id));\n    } else if (selectedVersions.length < 2) {\n      setSelectedVersions([...selectedVersions, evolution.evolution_id]);\n    }\n  };\n\n  // Get evolution type badge color\n  const getEvolutionTypeBadge = (type) => {\n    const typeMap = {\n      'research_update': 'bg-blue-100 text-blue-800',\n      'technology_refresh': 'bg-purple-100 text-purple-800',\n      'feedback_integration': 'bg-green-100 text-green-800',\n      'content_expansion': 'bg-orange-100 text-orange-800',\n      'content_update': 'bg-gray-100 text-gray-800',\n      'bug_fix': 'bg-red-100 text-red-800',\n      'security_update': 'bg-red-100 text-red-800',\n      'performance_optimization': 'bg-yellow-100 text-yellow-800'\n    };\n    \n    return typeMap[type] || 'bg-gray-100 text-gray-800';\n  };\n\n  // Format evolution type for display\n  const formatEvolutionType = (type) => {\n    return type.replace(/_/g, ' ').replace(/\\b\\w/g, l => l.toUpperCase());\n  };\n\n  // Get status icon and color\n  const getStatusIcon = (status) => {\n    const statusMap = {\n      'completed': { icon: TrendingUp, color: 'text-green-600' },\n      'deployed': { icon: TrendingUp, color: 'text-green-600' },\n      'failed': { icon: AlertCircle, color: 'text-red-600' },\n      'rolled_back': { icon: RotateCcw, color: 'text-orange-600' },\n      'implementing': { icon: Clock, color: 'text-blue-600' },\n      'validating': { icon: Clock, color: 'text-yellow-600' }\n    };\n    \n    return statusMap[status] || { icon: FileText, color: 'text-gray-600' };\n  };\n\n  // Calculate duration\n  const calculateDuration = (createdAt, completedAt) => {\n    if (!completedAt) return 'In progress';\n    \n    const start = new Date(createdAt);\n    const end = new Date(completedAt);\n    const diffMs = end - start;\n    const diffHours = Math.floor(diffMs / (1000 * 60 * 60));\n    const diffMinutes = Math.floor((diffMs % (1000 * 60 * 60)) / (1000 * 60));\n    \n    if (diffHours > 0) {\n      return `${diffHours}h ${diffMinutes}m`;\n    }\n    return `${diffMinutes}m`;\n  };\n\n  if (loading) {\n    return (\n      <Card>\n        <CardHeader>\n          <CardTitle>Version History</CardTitle>\n        </CardHeader>\n        <CardContent>\n          <div className=\"flex items-center justify-center py-8\">\n            <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"></div>\n            <span className=\"ml-2\">Loading version history...</span>\n          </div>\n        </CardContent>\n      </Card>\n    );\n  }\n\n  if (error) {\n    return (\n      <Card>\n        <CardHeader>\n          <CardTitle>Version History</CardTitle>\n        </CardHeader>\n        <CardContent>\n          <div className=\"text-center py-8\">\n            <AlertCircle className=\"h-12 w-12 text-red-500 mx-auto mb-4\" />\n            <p className=\"text-red-600 mb-4\">{error}</p>\n            <Button onClick={() => window.location.reload()}>\n              Retry\n            </Button>\n          </div>\n        </CardContent>\n      </Card>\n    );\n  }\n\n  return (\n    <Card>\n      <CardHeader>\n        <div className=\"flex items-center justify-between\">\n          <CardTitle className=\"flex items-center space-x-2\">\n            <GitBranch className=\"h-5 w-5\" />\n            <span>Version History</span>\n            {workshopName && (\n              <Badge variant=\"outline\">{workshopName}</Badge>\n            )}\n          </CardTitle>\n          \n          {selectedVersions.length === 2 && (\n            <Button\n              onClick={() => setShowComparison(!showComparison)}\n              variant=\"outline\"\n              size=\"sm\"\n            >\n              {showComparison ? 'Hide' : 'Show'} Comparison\n            </Button>\n          )}\n        </div>\n      </CardHeader>\n      \n      <CardContent>\n        {versionHistory.length === 0 ? (\n          <div className=\"text-center py-8\">\n            <GitBranch className=\"h-12 w-12 text-gray-400 mx-auto mb-4\" />\n            <p className=\"text-gray-500\">No version history available</p>\n          </div>\n        ) : (\n          <div className=\"space-y-4\">\n            {/* Version comparison panel */}\n            {showComparison && selectedVersions.length === 2 && (\n              <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6\">\n                <h4 className=\"font-medium text-blue-900 mb-2\">Version Comparison</h4>\n                <div className=\"grid grid-cols-2 gap-4 text-sm\">\n                  {selectedVersions.map((versionId, index) => {\n                    const evolution = versionHistory.find(e => e.evolution_id === versionId);\n                    return (\n                      <div key={versionId} className=\"bg-white rounded p-3\">\n                        <div className=\"font-medium\">{evolution?.target_version || 'Unknown'}</div>\n                        <div className=\"text-gray-600\">{formatEvolutionType(evolution?.evolution_type || '')}</div>\n                        <div className=\"text-xs text-gray-500 mt-1\">\n                          {new Date(evolution?.created_at).toLocaleDateString()}\n                        </div>\n                      </div>\n                    );\n                  })}\n                </div>\n                <Button \n                  className=\"mt-3\" \n                  size=\"sm\" \n                  onClick={() => setSelectedVersions([])}\n                >\n                  Clear Selection\n                </Button>\n              </div>\n            )}\n\n            {/* Version timeline */}\n            <div className=\"relative\">\n              {versionHistory.map((evolution, index) => {\n                const statusInfo = getStatusIcon(evolution.status);\n                const StatusIcon = statusInfo.icon;\n                const isSelected = selectedVersions.includes(evolution.evolution_id);\n                const isHighlighted = selectedEvolution?.evolution_id === evolution.evolution_id;\n                \n                return (\n                  <div\n                    key={evolution.evolution_id}\n                    className={`relative flex items-start space-x-4 pb-6 ${\n                      isHighlighted ? 'bg-blue-50 -mx-4 px-4 rounded-lg' : ''\n                    }`}\n                  >\n                    {/* Timeline line */}\n                    {index < versionHistory.length - 1 && (\n                      <div className=\"absolute left-6 top-8 w-0.5 h-full bg-gray-200\"></div>\n                    )}\n                    \n                    {/* Status icon */}\n                    <div className={`flex-shrink-0 w-12 h-12 rounded-full border-2 border-white shadow-sm flex items-center justify-center ${\n                      evolution.status === 'completed' || evolution.status === 'deployed' \n                        ? 'bg-green-100' \n                        : evolution.status === 'failed' || evolution.status === 'rolled_back'\n                        ? 'bg-red-100'\n                        : 'bg-gray-100'\n                    }`}>\n                      <StatusIcon className={`h-5 w-5 ${statusInfo.color}`} />\n                    </div>\n                    \n                    {/* Evolution details */}\n                    <div \n                      className={`flex-1 cursor-pointer ${\n                        selectedVersions.length < 2 ? 'hover:bg-gray-50' : ''\n                      } rounded-lg p-3 transition-colors ${\n                        isSelected ? 'bg-blue-50 border border-blue-200' : ''\n                      }`}\n                      onClick={() => selectedVersions.length < 2 && handleVersionSelect(evolution)}\n                    >\n                      <div className=\"flex items-center justify-between mb-2\">\n                        <div className=\"flex items-center space-x-2\">\n                          <Tag className=\"h-4 w-4 text-gray-500\" />\n                          <span className=\"font-medium\">\n                            {evolution.target_version || evolution.current_version || 'Unknown Version'}\n                          </span>\n                          <Badge \n                            className={getEvolutionTypeBadge(evolution.evolution_type)}\n                          >\n                            {formatEvolutionType(evolution.evolution_type)}\n                          </Badge>\n                        </div>\n                        \n                        <div className=\"text-sm text-gray-500\">\n                          {calculateDuration(evolution.created_at, evolution.completed_at)}\n                        </div>\n                      </div>\n                      \n                      {evolution.evolution_description && (\n                        <p className=\"text-sm text-gray-700 mb-2 line-clamp-2\">\n                          {evolution.evolution_description}\n                        </p>\n                      )}\n                      \n                      <div className=\"flex items-center justify-between\">\n                        <div className=\"flex items-center space-x-4 text-xs text-gray-500\">\n                          <span>\n                            <User className=\"h-3 w-3 inline mr-1\" />\n                            {evolution.requested_by || 'System'}\n                          </span>\n                          <span>\n                            <Clock className=\"h-3 w-3 inline mr-1\" />\n                            {new Date(evolution.created_at).toLocaleDateString()}\n                          </span>\n                          {evolution.files_modified && (\n                            <span>\n                              <FileText className=\"h-3 w-3 inline mr-1\" />\n                              {evolution.files_modified} files\n                            </span>\n                          )}\n                        </div>\n                        \n                        <div className=\"flex items-center space-x-2\">\n                          {evolution.rollback_available && (\n                            <Badge variant=\"outline\" className=\"text-xs\">\n                              <RotateCcw className=\"h-3 w-3 mr-1\" />\n                              Rollback Available\n                            </Badge>\n                          )}\n                          \n                          <Badge \n                            variant={\n                              evolution.status === 'completed' || evolution.status === 'deployed' \n                                ? 'success' \n                                : evolution.status === 'failed' || evolution.status === 'rolled_back'\n                                ? 'destructive'\n                                : 'secondary'\n                            }\n                          >\n                            {evolution.status.replace(/_/g, ' ')}\n                          </Badge>\n                        </div>\n                      </div>\n                      \n                      {/* Version transition indicator */}\n                      {evolution.current_version && evolution.target_version && \n                       evolution.current_version !== evolution.target_version && (\n                        <div className=\"mt-2 flex items-center text-xs text-gray-500\">\n                          <span>{evolution.current_version}</span>\n                          <ArrowRight className=\"h-3 w-3 mx-2\" />\n                          <span>{evolution.target_version}</span>\n                        </div>\n                      )}\n                    </div>\n                  </div>\n                );\n              })}\n            </div>\n            \n            {/* Selection instructions */}\n            {selectedVersions.length < 2 && versionHistory.length > 1 && (\n              <div className=\"text-center py-4 text-sm text-gray-500 border-t\">\n                Click on versions to select them for comparison (max 2)\n              </div>\n            )}\n          </div>\n        )}\n      </CardContent>\n    </Card>\n  );\n};\n\nexport default WorkshopVersionHistory;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}